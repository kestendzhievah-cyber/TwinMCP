# Configuration de production pour TwinMe IA
# Basé sur les spécifications E10-Story10-2-Scalabilite-HA.md

# Base de données
DATABASE_URL=postgresql://twinme:PASSWORD@twinme-postgres-rw:5432/twinme
DIRECT_DATABASE_URL=postgresql://twinme:PASSWORD@twinme-postgres-rw:5432/twinme
POSTGRES_PASSWORD=your_secure_password_here

# Redis
REDIS_URL=redis://twinme-redis:6379
REDIS_PASSWORD=your_redis_password_here

# Configuration Kubernetes
NAMESPACE=twinme-prod
CLUSTER_NAME=twinme-prod
REGION=eu-west-3
PRIMARY_REGION=eu-west-3
SECONDARY_REGION=eu-central-1
DR_REGION=us-east-1

# Load Balancer IPs
PRIMARY_LB_IP=1.2.3.4
SECONDARY_LB_IP=5.6.7.8

# AWS Credentials
AWS_ACCESS_KEY=your_aws_access_key
AWS_SECRET_KEY=your_aws_secret_key
AWS_REGION=eu-west-3

# S3 Backup
BACKUP_BUCKET=s3://twinme-backups/postgres

# Monitoring et Alertes
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
PROMETHEUS_URL=http://prometheus.monitoring.svc.cluster.local:9090
GRAFANA_URL=http://grafana.monitoring.svc.cluster.local:3000

# Configuration API
API_URL=https://api.twinme.ai
API_SECONDARY_URL=https://api-secondary.twinme.ai
NEXT_PUBLIC_API_URL=https://api.twinme.ai

# Configuration Auto-scaling
MIN_REPLICAS=3
MAX_REPLICAS=50
CPU_THRESHOLD=70
MEMORY_THRESHOLD=80
REQUEST_RATE_THRESHOLD=100

# Configuration Facturation
STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret
INVOICE_CURRENCY=EUR
TAX_RATE=0.20

# Configuration SMTP pour envoi factures
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password
FROM_EMAIL=noreply@twinme.ai

# Configuration Sécurité
JWT_SECRET=your_jwt_secret_key_minimum_32_characters
ENCRYPTION_KEY=your_encryption_key_32_chars_min
SESSION_SECRET=your_session_secret_key

# Configuration Logging
LOG_LEVEL=info
LOG_FORMAT=json
ENABLE_REQUEST_LOGGING=true

# Configuration Performance
ENABLE_COMPRESSION=true
COMPRESSION_THRESHOLD=1024
ENABLE_CACHING=true
CACHE_TTL=300

# Configuration Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000

# Configuration Timeout
REQUEST_TIMEOUT=30000
CONNECTION_TIMEOUT=10000
IDLE_TIMEOUT=60000

# Configuration SSL
SSL_CERT_PATH=/etc/ssl/certs/twinme.ai.crt
SSL_KEY_PATH=/etc/ssl/certs/twinme.ai.key
ENABLE_HTTP2=true

# Configuration CORS
CORS_ORIGIN=https://twinme.ai,https://app.twinme.ai
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=Content-Type,Authorization,X-Requested-With

# Configuration Monitoring
ENABLE_METRICS=true
METRICS_PORT=9090
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=5

# Configuration Backup
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=0 2 * * *
ENABLE_POINT_IN_TIME_RECOVERY=true

# Configuration Disaster Recovery
FAILOVER_THRESHOLD=0.8
FAILOVER_CHECK_INTERVAL=30
DNS_PROPAGATION_DELAY=60

# Configuration Analytics
ENABLE_ANALYTICS=true
ANALYTICS_SAMPLE_RATE=0.1
ENABLE_PERFORMANCE_TRACKING=true

# Configuration Développement
NODE_ENV=production
DEBUG=false
ENABLE_SWAGGER=false
